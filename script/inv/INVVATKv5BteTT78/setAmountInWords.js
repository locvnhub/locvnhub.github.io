/* 
2025-01-24 -  fix doc so tien am chieckhau
*/
this.setAmountInWords=function(a){var o=$("#Total").val()||"0",t=($("#DiscountNonTax").val()||"0").FormatNumUK();console.log(`vDiscountNonTax- ${t}`);var e=$("#VATRateF").val()||"-3";if(e=e.FormatNumUK(),totalNumABS=Math.abs(o=o.FormatNumUK()),0==o)return $("#Amount").attr("value",0),$("#Amount").val(0),$("#VATAmount").val("0"),$("#AmountInWords").val("Kh\xf4ng đồng"),o;var r=0,n=0;-99==(a=parseFloat(a))||-3==a?(r=-3==e?($("#VATAmount").val()||"0").FormatNumUK():parseFloat(((o-t)*e/100).toFixed(BteGlobal.ROUND_TOTAL)),n=o+r):a>0?(console.log(`_vatrate > 0 total = ${o}  vDiscountNonTax=${t} `),r=parseFloat(((o-t)*a/100).toFixed(BteGlobal.ROUND_TOTAL)),n=o+r,$("#VATAmount").val(r.format(0,3,typeCurrency))):(console.log("  VATAmount= 0    _amount = totalNum"),$("#VATAmount").val("0"),n=o);var m=parseFloat(n.toFixed(BteGlobal.ROUND_TOTAL));if(console.log(`amountF=${m}`),0==m){$("#AmountInWords").val(1..ReadNumber(typeCurrency).replace(/\s\s+/g," ").replace("Một","Kh\xf4ng"));return}"6"==$("#INV_TYPE").val()?m<0?$("#AmountInWords").val("Giảm "+Math.abs(m).ReadNumber(typeCurrency).replace(/\s\s+/g," ").toLowerCase()):$("#AmountInWords").val("Tăng "+Math.abs(m).ReadNumber(typeCurrency).replace(/\s\s+/g," ").toLowerCase()):"3"==$("#INV_TYPE").val()||m<0&&"/adjust/createadjustinvwithtoken"==location.pathname.toLowerCase()?$("#AmountInWords").val("Giảm "+Math.abs(m).ReadNumber(typeCurrency).replace(/\s\s+/g," ").toLowerCase()):0>parseFloat(m)?$("#AmountInWords").val("Giảm "+Math.abs(parseFloat(m)).ReadNumber(typeCurrency).replace(/\s\s+/g," ")):$("#AmountInWords").val(parseFloat(m).ReadNumber(typeCurrency).replace(/\s\s+/g," ")),-3!=e&&$("#VATAmount").val(r.format(0,3,typeCurrency)),$("#Amount").val(m.format(0,3,typeCurrency)).attr("value",m.format(0,3,typeCurrency)),setAmountInWords_over(a)};
